# خدمات الويب (Web Services)

## مقدمة إلى خدمات الويب

خدمة الويب هي نظام برمجي مصمم لدعم التفاعل القابل للتشغيل البيني بين التطبيقات المختلفة عبر الشبكة مثل الإنترنت أو شبكة داخلية خاصة. تستخدم بروتوكولات اتصال موحدة للسماح لتطبيقين أو أكثر - قد يكونان مكتوبين بلغات برمجة مختلفة ويعملان على أنظمة تشغيل مختلفة - بالتواصل وتبادل البيانات بسلاسة.

يتم الاتصال بين العميل وخدمة الويب غالبًا باستخدام:

*   **لغة الترميز القابلة للتوسيع (XML)** عند اتباع نمط بروتوكول الوصول البسيط للكائنات (SOAP).
*   **تنسيق كائن جافا سكريبت (JSON)** أو XML عند اتباع نمط نقل الحالة التمثيلية (REST).

## الغرض من استخدام خدمات الويب

تمكن خدمات الويب التشغيل البيني. على سبيل المثال:

*   يمكن لبرنامج مكتوب بلغة Python التواصل مع خدمة مكتوبة بلغة Java.
*   يمكن لعميل يعمل بنظام Windows طلب بيانات من خدمة تعمل على خادم Linux.

## ميزات خدمات الويب

*   **مستقلة عن اللغة ونظام التشغيل**: يمكن بناء التطبيقات بأي لغة ونشرها على أي نظام تشغيل.
*   **تستخدم معايير مفتوحة**: على سبيل المثال، بروتوكول نقل النص التشعبي (HTTP)، XML، JSON، SOAP، ولغة وصف خدمات الويب (WSDL).
*   **وصف ذاتي**: تصف الخدمات نفسها باستخدام تنسيقات قائمة على XML مثل WSDL أو تنسيقات قائمة على JSON مثل مواصفات OpenAPI.
*   **قابلة للاكتشاف**: يمكن تسجيل الخدمات والعثور عليها باستخدام سجلات مثل Universal Description, Discovery, and Integration (UDDI).

## لماذا نستخدم خدمات الويب؟

توفر خدمات الويب العديد من الفوائد الهامة:

*   **كشف الوظائف الموجودة**: تسمح للتطبيقات القديمة أو الأنظمة الأساسية بأن تكون قابلة للوصول إلى أنظمة أخرى عبر الشبكة دون إعادة كتابة التعليمات البرمجية.
*   **التشغيل البيني بين الأنظمة غير المتجانسة**: ربط التطبيقات المبنية بلغات برمجة مختلفة والمنشورة على منصات مختلفة.
*   **بروتوكولات الاتصال الموحدة**: استخدام معايير معترف بها في الصناعة مثل SOAP عبر HTTP، REST عبر HTTP، و XML لهيكلة البيانات.
*   **اتصال منخفض التكلفة**: الاستفادة من البنية التحتية للإنترنت الموجودة بدلاً من حلول الاتصال الاحتكارية باهظة الثمن.
*   **هندسة معمارية مفككة الارتباط**: يمكن للمستهلك (مستهلك الخدمة) والمزود (مزود الخدمة) التغيير بشكل مستقل طالما أنهما يحترمان الواجهة المتفق عليها.

## أنواع خدمات الويب

*   **بروتوكول الوصول البسيط للكائنات (SOAP)**:
    *   بروتوكول رسائل قائم على XML.
    *   يعمل عبر بروتوكولات نقل متعددة مثل HTTP، بروتوكول نقل البريد البسيط (SMTP)، وبروتوكول نقل الملفات (FTP).
    *   يتطلب WSDL لوصف العمليات المتاحة وتنسيقات الرسائل.
*   **نقل الحالة التمثيلية (REST)**:
    *   نمط معماري يستخدم أساليب HTTP (GET, POST, PUT, DELETE) للعمل على الموارد.
    *   يعيد JSON بشكل متكرر ولكنه يمكن أيضًا أن يعيد XML أو تنسيقات أخرى.
    *   أسهل في الاستخدام وأسرع بشكل عام من SOAP.
*   **لغة الترميز القابلة للتوسيع - استدعاء الإجراء عن بعد (XML-RPC)**:
    *   آلية أقدم قائمة على XML لاستدعاءات الإجراءات عن بعد.
    *   تقوم بترميز استدعاءات الأساليب والاستجابات في XML وتنقلها عبر HTTP.

## المكونات الأساسية لخدمات الويب

*   **SOAP**: بروتوكول رسائل يحدد بنية XML للطلبات والاستجابات.
*   **لغة وصف خدمات الويب (WSDL)**: لغة قائمة على XML تصف واجهة الخدمة، والأساليب المتاحة، والمعلمات، وموقع الشبكة.
*   **Universal Description, Discovery, and Integration (UDDI)**: نظام سجل حيث يمكن نشر خدمات الويب واكتشافها.
*   **طبقة النقل (Transport Layer)**: بروتوكولات مثل HTTP، SMTP، و FTP المستخدمة لنقل الرسائل.

## كيف تعمل خدمات الويب - التدفق العام

1.  **تطبيق العميل يرسل طلبًا**:
    *   في SOAP: يرسل رسالة XML ملفوفة بتنسيق SOAP.
    *   في REST: يرسل طلب HTTP مع البيانات بتنسيق JSON أو XML.
2.  **الخادم يعالج الطلب**: تنفذ الخدمة الأسلوب أو العملية المقابلة.
3.  **الخادم يرسل استجابة**:
    *   SOAP: استجابة بتنسيق XML.
    *   REST: استجابة بتنسيق JSON أو XML.

## مقارنة: SOAP مقابل REST في Python

| الميزة          | SOAP (zeep)                      | REST (requests)                 |
| :-------------- | :------------------------------- | :------------------------------ |
| تنسيق البيانات  | XML فقط                          | JSON أو XML                     |
| دعم البروتوكول  | HTTP, SMTP, FTP                  | HTTP                            |
| التعقيد         | عالٍ (مخططات XML صارمة)         | منخفض (تنسيقات مرنة)           |
| السرعة          | أبطأ (عبء إضافي أكبر)            | أسرع (أقل تفصيلاً)              |
| الأفضل لـ       | أنظمة الشركات والأنظمة المالية | تطبيقات الويب والجوال            |

<!-- شرح مُعد بواسطة AI بناءً على المحاضرة: web_services_python.pptx -->



## تدفق عمل خدمات الويب

![تدفق عمل خدمات الويب](/home/ubuntu/explanations/assets/web_services_flow.png)


